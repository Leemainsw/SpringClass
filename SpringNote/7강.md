# **ğŸ§ Spring 7ê°•**

## @RequestParamì´ë‘ @PathVariable
ê³µí†µì  : ê°’(ë°ì´í„°)ì„ ì „ë‹¬í•œë‹¤. <br>
ì°¨ì´ì  : @RequestParamì€ query stringì— ìˆëŠ” ì •ë³´ ë°›ê³  @PathVariableì€ path ì˜ì—­ì— ë‹´ê¸´ ì •ë³´ë¥¼ ë°›ëŠ”ë‹¤.


## ì»¤ë§¨ë“œ ê°ì²´(Command Object) ì „ë‹¬
ì´ì „ì˜ ìë°” ë¹ˆ ê°ì²´ Studentë¥¼ í™œìš©í•˜ì—¬ í•¸ë“¤ëŸ¬ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ ê°€ëŠ¥

**ì´ì „ì˜ ìë°” ë¹ˆ ê°ì²´ Studentë¥¼ í™œìš©í•˜ì—¬ í•¸ë“¤ëŸ¬ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ ê°€ëŠ¥**

```java
@GetMapping("student2")
public ModelAndView student2(Student s) { // íŒŒë¼ë¯¸í„°ì˜ Student íƒ€ì…ì„ ì£¼ëª©
    ModelAndView m = new ModelAndView("student");
    m.addObject("title", "Student page");
    m.addObject("student", s);
    return m;
}
```

ì´ì „ Modelì´ë¼ëŠ” ê°ì²´ëŠ” í•¸ë“¤ëŸ¬ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ì ì´ ìˆìŒ

Student í´ë˜ìŠ¤ íƒ€ì… ê°ì²´ë¥¼ í•¸ë“¤ëŸ¬ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê¸°

* Model í´ë˜ìŠ¤ ë§Œë“  ì‚¬ëŒ => ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ë§Œë“  ì‚¬ëŒ

* Student í´ë˜ìŠ¤ ë§Œë“  ì‚¬ëŒ => ìš°ë¦¬ (ì‚¬ìš©ì ì •ì˜ í´ë˜ìŠ¤)

**ìƒì„±í•œ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ íƒ€ì… ì´ë¦„ì„ camelCaseë¡œ ë°”ê¾¼ ì´ë¦„ì„ í‚¤ë¡œ í•´ì„œ ëª¨ë¸ì— ìë™ìœ¼ë¡œ ë„£ì–´ì¤Œ**


## HttpServletRequest, HttpServletResponse í´ë˜ìŠ¤ í™œìš©í•˜ê¸°

```java
// ë¦¬í„´ íƒ€ì…ì´ voidì„ì„ ì£¼ëª©
@RequestMapping("/servlet_object")
public void servletObjectTest(HttpServletRequest request, HttpServletResponse response) throws IOException {
// request ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ ìš”ì²­ì— ëŒ€í•œ ì •ë³´ í™•ì¸ ê°€ëŠ¥
// íŒŒë¼ë¯¸í„° ì •ë³´ ì ‘ê·¼
    Enumeration<String> e = request.getParameterNames();
    while(e.hasMoreElements()) {
        String name = e.nextElement();
        System.out.println("param : " + name + " : " + request.getParameter(name));
    }

    // í—¤ë” ì •ë³´ ì ‘ê·¼
    e = request.getHeaderNames();
    while(e.hasMoreElements()) {
        String name = e.nextElement();
        System.out.println("header : " + name + " : " + request.getHeader(name));
    }

    // ë°”ë”” ì •ë³´ ì ‘ê·¼
    System.out.println("Body\n");
    BufferedReader reader = request.getReader();
    String s = null;
    while((s = reader.readLine()) != null) {
        System.out.println(s);
    }

    // response ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ ì‘ë‹µì— ëŒ€í•œ ì •ë³´ ì¶”ê°€/ë³€ê²½ ê°€ëŠ¥
    // ì‘ë‹µ ì½”ë“œì™€ ì‘ë‹µ ì •ë³´ì— ëŒ€í•œ í˜•ì‹ì„ í—¤ë” ì •ë³´ì— ì¶”ê°€
    response.setStatus(200);
    response.setContentType("application/json");
    response.setCharacterEncoding("utf-8");

    // ë„˜ì–´ì˜¨ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ ì •ë³´ë¥¼ json í˜•íƒœë¡œ ì¶œë ¥í•˜ì—¬ ë°”ë””ì— ë¶™ì´ê¸°
    PrintWriter writer = response.getWriter();
    writer.append("{");
    e = request.getParameterNames();
    String sep = "";
    while(e.hasMoreElements()) {
        String name = e.nextElement();
        writer.append(sep + "\"" + name + "\":");
        writer.append("\"" + request.getParameter(name) + "\"");
        sep = ",";
    }
    writer.append("}");
}
```

* request ê°ì²´ëŠ” ìš”ì²­ ë©”ì‹œì§€ë¥¼ ì¶”ìƒí™”í•œ ê°ì²´ (ë©”ì†Œë“œ, í—¤ë” ì •ë³´ ë“±ë“±)
* response ê°ì²´ëŠ” ì‘ë‹µ ë©”ì‹œì§€ë¥¼ ì¶”ìƒí™”í•œ ê°ì²´

